<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>RIVEMU</title>
    <style>
      body {
        background-color: #111;
        color: white;
      }
      .small-font {
        font-size: 12px;
        font-family: monospace;
      }
      .canvas-wrapper {
        text-align: center;
      }
      .content-wrapper {
        font-family: monospace;
        max-width: 768px;
        margin: auto;
        text-align: left;
      }
      #canvas {
        background-color: black;
        image-rendering: pixelated;
        outline: none;
        max-width: 768px;
        max-height: 768px;
      }
      .row {
        display: flex;
      }
      .column-2 {
        flex: 50%;
      }
      @media screen and (max-width: 768px), screen and (max-height: 768px) {
        #canvas {
          max-width: 512px;
          max-height: 512px;
        }
        .content-wrapper {
          max-width: 768px;
        }
      }
      @media screen and (max-width: 512px), screen and (max-height: 512px)  {
        #canvas {
          max-width: 256px;
          max-height: 256px;
        }
        .content-wrapper {
          max-width: 512px;
        }
      }
    </style>
  </head>
  <body>
    <div class="canvas-wrapper">
      <canvas id="canvas" tabindex="-1" width="768" height="768" oncontextmenu="event.preventDefault()"></canvas>
    </div>
    <div class="content-wrapper">
      <div>
        <button id="record" disabled="true" onclick="rivemuRecord()">Record</button>
        <button id="replay" disabled="true" onclick="rivemuReplay()">Replay</button>
        <button id="stop" disabled="true" onclick="rivemuStop()">Stop</button>
        <button id="fullscreen" onclick="rivemuFullscreen()">Fullscreen</button>
      </div>
      <div class="row">
        <div class="column-2">
          <div><b>Status: </b><span id="status">Downloading emulator...</span></div>
          <div><b>Time: </b><span id="time">N/A</span></div>
          <div><b>Frame: </b><span id="frame">N/A</span></div>
          <div><b>Score: </b><span id="score">N/A</span></div>
          <div><b>FPS: </b><span id="fps">N/A</span></div>
          <div><b>Progress: </b><span id="progress">N/A</span></div>
        </div>
        <div class="column-2">
          <div><b>CPU Cost: </b><span id="cpuCost">N/A</span></div>
          <div><b>CPU Speed: </b><span id="cpuSpeed">N/A</span></div>
          <div><b>CPU Usage: </b><span id="cpuUsage">N/A</span></div>
          <div><b>CPU Cycles: </b><span id="cpuCycles">N/A</span></div>
          <div><b>Resolution: </b><span id="resolution">N/A</span></div>
        </div>
      </div>
      <div>
        <b>Cartridge: </b>
        <span id="cartsize">N/A</span> - <span id="carthash">N/A</span>
        <button id="upload_cartridge" class="small-font" onclick="rivemuUploadCartridge()">Upload</button>
        <button id="download_cartridge" class="small-font" disabled="true" onclick="rivemuDownloadCartridge()">Download</button>
      </div>
      <div>
        <b>Tape: </b><span id="tapesize">N/A</span> - <span id="tapehash">N/A</span>
        <button id="upload_tape" class="small-font" onclick="rivemuUploadTape()">Upload</button>
        <button id="download_tape" class="small-font" disabled="true" onclick="rivemuDownloadTape()">Download</button>
      </div>
      <div>
        <b>Incard: </b><span id="insize">N/A</span> - <span id="inhash">N/A</span>
        <button id="upload_incard" class="small-font" onclick="rivemuUploadIncard()">Upload</button>
        <button id="download_incard" class="small-font" onclick="rivemuDownloadIncard()">Download</button>
      </div>
      <div>
        <b>Outcard: </b><span id="outsize">N/A</span> - <span id="outhash">N/A</span>
        <button id="download_outcard" class="small-font" disabled="true" onclick="rivemuDownloadOutcard()">Download</button>
      </div>
      <div>
        <b>Entropy: </b><span id="entropysize">N/A</span> - <span id="entropyhash">N/A</span>
        <br/>
        <input type="text" class="small-font" id="entropy" style="width: 75%"/>
      </div>
      <div>
        <b>Args: </b><span id="argssize">N/A</span> - <span id="argshash">N/A</span>
        <br/>
        <input type="text" class="small-font" id="args" style="width: 75%"/>
      </div>
      <h3>Games</h3>
      <div>
        <button onclick="rivemuUploadCartridge('cartridges/antcopter.sqfs')">Antcopter</button>
        <button onclick="rivemuUploadCartridge('cartridges/game2048.sqfs')">2048</button>
        <button onclick="rivemuUploadCartridge('cartridges/snake.sqfs')">Snake</button>
        <button onclick="rivemuUploadCartridge('cartridges/freedoom.sqfs')">DOOM</button>
        <button onclick="rivemuUploadCartridge('cartridges/monky.sqfs')">Monky</button>
        <button onclick="rivemuUploadCartridge('cartridges/tetrix.sqfs')">Tetrix</button>
      </div>
      <h3>Demos</h3>
      <div>
        <button onclick="rivemuUploadCartridge('cartridges/bounce.sqfs')">bounce</button>
        <button onclick="rivemuUploadCartridge('cartridges/circles.sqfs')">circles</button>
        <button onclick="rivemuUploadCartridge('cartridges/glyphs.sqfs')">glyphs</button>
        <button onclick="rivemuUploadCartridge('cartridges/hello.sqfs')">hello</button>
        <button onclick="rivemuUploadCartridge('cartridges/lines.sqfs')">lines</button>
        <button onclick="rivemuUploadCartridge('cartridges/many.sqfs')">many</button>
        <button onclick="rivemuUploadCartridge('cartridges/palette.sqfs')">palette</button>
        <button onclick="rivemuUploadCartridge('cartridges/particles.sqfs')">particles</button>
        <button onclick="rivemuUploadCartridge('cartridges/play.sqfs')">play</button>
        <button onclick="rivemuUploadCartridge('cartridges/wander.sqfs')">wander</button>
        <button onclick="rivemuUploadCartridge('cartridges/waves.sqfs')">waves</button>
        <button onclick="rivemuUploadCartridge('cartridges/hello-c.sqfs')">hello-c</button>
        <button onclick="rivemuUploadCartridge('cartridges/hello-lua.sqfs')">hello-lua</button>
      </div>
    </div>
    <script src="index.js"></script>
    <script async src="rivemu.js"></script>
  </body>
</html>
